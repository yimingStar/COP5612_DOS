<!DOCTYPE html>
<!-- <script language="javascript" type="text/javascript">

    var wsUri = "ws://localhost:8080/websocket";
    var output;

    function init()
    {
        output = document.getElementById("output");
        testWebSocket();
    }

    function testWebSocket()
    {
        websocket = new WebSocket(wsUri);
        websocket.onopen = function(evt) { onOpen(evt) };
        websocket.onclose = function(evt) { onClose(evt) };
        websocket.onmessage = function(evt) { onMessage(evt) };
        websocket.onerror = function(evt) { onError(evt) };
    }

    function onOpen(evt)
    {
        writeToScreen("CONNECTED");
        doSend("WebSocket rocks");
    }

    function onClose(evt)
    {
        writeToScreen("DISCONNECTED");
    }

    function onMessage(evt)
    {
        writeToScreen('<span style="color: blue;">RESPONSE: ' + evt.data+'</span>');
        websocket.close();
    }

    function onError(evt)
    {
        writeToScreen('<span style="color: red;">ERROR:</span> ' + evt.data);
    }

    function doSend(message)
    {
        writeToScreen("SENT: " + message); 
        websocket.send(message);
    }

    function writeToScreen(message)
    {
        var pre = document.createElement("p");
        pre.style.wordWrap = "break-word";
        pre.innerHTML = message;
        output.appendChild(pre);
    }

    window.addEventListener("load", init, false);
</script> -->

<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>${Title}</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" />
    <style>
        /* Sticky footer styles */
        html {
            position: relative;
            min-height: 100%;
        }
        body {
            /* Margin bottom by footer height */
            margin-bottom: 60px;
        }
        .footer {
            position: absolute;
            bottom: 0;
            width: 100%;
            /* Set the fixed height of the footer here */
            height: 60px;
            background-color: #f5f5f5;
        }
        .container .text-muted {
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <!-- Static navbar -->
    <nav class="navbar navbar-default navbar-static-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">Twitter Clone</a>
                <div id="navbar" class="navbar-collapse collapse">
                    <ul class="nav navbar-nav" ws-hole="MenuBar"></ul>
            </div>
        </div>
    </nav>
    <div class="container">
        <div ws-replace="Body">
            <div ws-template="RegisterForm">
                <input ws-var="Account" />
                <button ws-onclick="OnSend">SignUp</button>
                <hr />
                <h4 class="text-muted">Server Response:</h4>
                <div class="jumbotron"><h3>${RESPONSE}</h3></div>
            </div>
            <div ws-template="SignInForm">
                <input ws-var="TextUserId" />
                <button ws-onclick="OnSend">Login</button>
                <hr />
                <h4 class="text-muted">Server Response:</h4>
                <div class="jumbotron"><h3>${RESPONSE}</h3></div>
            </div>
            <div ws-template="MainForm">
                <textarea   ws-var="TextToReverse" rows = "5" cols = "60">
                    Enter details here...
                </textarea>
                <button ws-onclick="OnSend">Send</button>
                <hr />
                <h4 class="text-muted">Server Response:</h4>
                <div class="jumbotron"><h3>${RESPONSE}</h3></div>
            </div>
        </div>
    </div>
    <div id="output"></div>
    <footer class="footer">
        <div class="container">
            <p class="text-muted">
                For an enhanced template that provides automatic GitHub deployment to Azure, fork from <a href="https://github.com/intellifactory/ClientServer.Azure">GitHub</a>, or
                read more <a href="https://websharper.com/blog-entry/4368/deploying-websharper-apps-to-azure-via-github">here</a>.
            </p>
        </div>
    </footer>
    <script ws-replace="scripts"></script>
</body>
</html>
